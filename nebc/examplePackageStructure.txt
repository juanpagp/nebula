org.nebula.nebc
├── core
│   ├── Compiler.java
│   ├── CompilerConfig.java
│   └── Phase.java
│
├── frontend
│   ├── lexer
│   │   └── (ANTLR-generated)
│   │
│   ├── parser
│   │   ├── Parser.java
│   │   └── AstBuilder.java        <-- ParseTree → AST
│   │
│   └── diagnostics
│       ├── SourceSpan.java
│       └── SyntaxError.java
│
├── ast
│   ├── ASTNode.java
│   │
│   ├── module
│   │   ├── CompilationUnit.java
│   │   ├── ModuleDecl.java
│   │   └── ImportDecl.java
│   │
│   ├── decl
│   │   ├── Decl.java
│   │   ├── FunctionDecl.java
│   │   ├── TypeDecl.java
│   │   ├── ExternDecl.java
│   │   └── VarDecl.java
│   │
│   ├── stmt
│   │   ├── Stmt.java
│   │   ├── BlockStmt.java
│   │   ├── IfStmt.java
│   │   ├── WhileStmt.java
│   │   ├── ReturnStmt.java
│   │   ├── VarDeclStmt.java
│   │   └── ExprStmt.java
│   │
│   ├── expr
│   │   ├── Expr.java
│   │   ├── CallExpr.java
│   │   ├── BinaryExpr.java
│   │   ├── UnaryExpr.java
│   │   ├── LiteralExpr.java
│   │   ├── VarExpr.java
│   │   ├── FieldExpr.java
│   │   └── IndexExpr.java
│   │
│   ├── type
│   │   ├── TypeRef.java
│   │   ├── BuiltinType.java
│   │   ├── NamedType.java
│   │   └── PointerType.java
│   │
│   ├── effect
│   │   ├── ParamMode.java          // KEEP / DROP / BORROW / TRANSFER
│   │   ├── EffectContract.java
│   │   └── InvalidationSpec.java
│   │
│   └── region
│       ├── RegionParam.java
│       └── RegionClass.java        // iso / shared / extern
│
├── semantic
│   ├── symbols
│   │   ├── Symbol.java
│   │   ├── SymbolTable.java
│   │   ├── FunctionSymbol.java
│   │   └── TypeSymbol.java
│   │
│   ├── types
│   │   ├── TypeChecker.java
│   │   └── TypeEnv.java
│   │
│   ├── regions
│   │   ├── RegionId.java
│   │   ├── RegionState.java        // Valid / MaybeInvalid / Invalid
│   │   ├── RegionEnv.java
│   │   └── RegionInference.java
│   │
│   ├── cvt
│   │   ├── CVTAnalyzer.java
│   │   ├── InvalidationGraph.java
│   │   └── AliasAnalysis.java
│   │
│   └── flow
│       ├── ControlFlowGraph.java
│       └── DataFlowPass.java
│
├── ir
│   ├── IRModule.java
│   ├── IRFunction.java
│   ├── IRBlock.java
│   └── IRInstr.java
│
├── backend
│   ├── llvm
│   │   ├── LLVMEmitter.java
│   │   └── LLVMTypeMapper.java
│   │
│   └── link
│       ├── Linker.java
│       └── NativeLibrary.java
│
└── util
    ├── Log.java
    └── Result.java
